{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/BaseEffect.js","lib/EffectSequence.js","lib/MovieClip.js","lib/Particle.js","lib/ParticleEmitter.js","lib/RevoltEffects.js","lib/Sprite.js","lib/core/BaseEmitterCore.js","lib/core/BoxEmitterCore.js","lib/core/CircleEmitterCore.js","lib/core/RingEmitterCore.js","lib/util/Color.js","lib/util/Easing.js","lib/util/LinkedList.js","lib/util/Rnd.js","lib"],"names":[],"mappings":";;;;;;;AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"revolt-fx.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList_1 = require(\"./util/LinkedList\");\nvar BaseEffect = /** @class */ (function (_super) {\n    __extends(BaseEffect, _super);\n    function BaseEffect(componentId) {\n        var _this = _super.call(this) || this;\n        _this.componentId = componentId;\n        _this.exhausted = false;\n        _this.completed = false;\n        _this._x = 0;\n        _this._y = 0;\n        _this._rotation = 0;\n        _this._alpha = 0;\n        _this._scale = new PIXI.Point();\n        _this._active = false;\n        return _this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    BaseEffect.prototype.update = function (dt) {\n    };\n    BaseEffect.prototype.recycle = function () {\n    };\n    Object.defineProperty(BaseEffect.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseEffect.prototype, \"scale\", {\n        get: function () {\n            return this._scale;\n        },\n        set: function (value) {\n            this._scale = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseEffect.prototype, \"alpha\", {\n        get: function () {\n            return this._alpha;\n        },\n        set: function (value) {\n            this._alpha = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseEffect.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            this._rotation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseEffect.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            this._y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseEffect.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            this._x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // *********************************************************************************************\n    // * internal\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    BaseEffect.prototype.__applySettings = function (value) {\n    };\n    return BaseEffect;\n}(LinkedList_1.Node));\nexports.BaseEffect = BaseEffect;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEffect_1 = require(\"./BaseEffect\");\nvar RevoltEffects_1 = require(\"./RevoltEffects\");\nvar LinkedList_1 = require(\"./util/LinkedList\");\nvar ParticleEmitter_1 = require(\"./ParticleEmitter\");\nvar Rnd_1 = require(\"./util/Rnd\");\nvar EffectSequence = /** @class */ (function (_super) {\n    __extends(EffectSequence, _super);\n    function EffectSequence(componentId) {\n        var _this = _super.call(this, componentId) || this;\n        _this._elements = new LinkedList_1.LinkedList();\n        return _this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    EffectSequence.prototype.init = function (container, autoStart) {\n        if (autoStart === void 0) { autoStart = true; }\n        this.container = container;\n        if (autoStart)\n            this.start();\n        return this;\n    };\n    EffectSequence.prototype.start = function () {\n        if (this._active)\n            return;\n        this._startTime = Date.now() + (this.settings.delay ? this.settings.delay * 1000 : 0);\n        this._index = 0;\n        if (this._list.length == 0) {\n            this._active = false;\n            if (this.onExhaust)\n                this.onExhaust(this);\n            if (this.onComplete)\n                this.onComplete(this);\n            this.recycle();\n        }\n        this.exhausted = this.completed = false;\n        this.setNextEffect();\n        RevoltEffects_1.RevoltEffects.instance.__addActiveEffect(this);\n        if (this.onStart)\n            this.onStart(this);\n        return this;\n    };\n    EffectSequence.prototype.update = function (dt) {\n        var t = Date.now();\n        if (t < this._startTime)\n            return;\n        this._time += dt;\n        // console.log(t, this._effectStartTime, this._effectStartTime - t);\n        if (!this.exhausted && t >= this._effectStartTime) {\n            var RE = RevoltEffects_1.RevoltEffects.instance;\n            var effect = void 0;\n            var def = this._nextEffectSettings;\n            var node_1;\n            switch (def.componentType) {\n                case RevoltEffects_1.ComponentType.Sprite:\n                    effect = RE.getSprite(def.componentId);\n                    this.container.addChildAt(effect, 0);\n                    effect.blendMode = def.blendMode;\n                    effect.tint = def.tint;\n                    effect.scale.set(Rnd_1.Rnd.float(def.scaleMin, def.scaleMax));\n                    effect.alpha = Rnd_1.Rnd.float(def.alphaMin, def.alphaMax);\n                    node_1 = new LinkedList_1.Node({ component: effect, endTime: t + (def.duration) * 1000 });\n                    break;\n                case RevoltEffects_1.ComponentType.MovieClip:\n                    effect = RE.getMovieClip(def.componentId);\n                    if (def.componentParams) {\n                        effect.animationSpeed = Rnd_1.Rnd.float(def.componentParams.animationSpeedMin || 1, def.componentParams.animationSpeedMax || 1);\n                        effect.loop = def.componentParams.loop || false;\n                    }\n                    effect.gotoAndPlay(0);\n                    this.container.addChildAt(effect, 0);\n                    effect.blendMode = def.blendMode;\n                    effect.tint = def.tint;\n                    effect.scale.set(Rnd_1.Rnd.float(def.scaleMin, def.scaleMax));\n                    effect.alpha = Rnd_1.Rnd.float(def.alphaMin, def.alphaMax);\n                    node_1 = new LinkedList_1.Node({ component: effect, endTime: t + (def.duration) * 1000 });\n                    break;\n                case RevoltEffects_1.ComponentType.Emitter:\n                    effect = RE.getParticleEmitter(def.componentId);\n                    effect.init(this.container, true);\n                    node_1 = new LinkedList_1.Node({ component: effect, endTime: effect.endTime });\n                    break;\n            }\n            effect.x = this._x;\n            effect.y = this._y;\n            effect.rotation = this._rotation;\n            this._elements.add(node_1);\n            if (this._index == this._list.length) {\n                this.exhausted = true;\n                if (this.onExhaust)\n                    this.onExhaust(this);\n            }\n            else {\n                this.setNextEffect();\n            }\n        }\n        var list = this._elements;\n        var node = list.first;\n        var next;\n        while (node) {\n            node.update(dt);\n            if (t > node.data.endTime) {\n                var component = node.data.component;\n                if (component instanceof ParticleEmitter_1.ParticleEmitter) {\n                    if (component.completed) {\n                        list.remove(node);\n                    }\n                }\n                else {\n                    list.remove(node);\n                    component.recycle();\n                }\n            }\n            node = node.next;\n        }\n        if (this.exhausted && list.length == 0) {\n            this._active = false;\n            this.completed = true;\n            if (this.onComplete)\n                this.onComplete(this);\n            this.recycle();\n        }\n    };\n    EffectSequence.prototype.recycle = function () {\n        var list = this._elements;\n        var node = list.first;\n        var next;\n        while (node) {\n            next = node.next;\n            node.data.recycle();\n            node = next;\n        }\n        list.clear();\n        RevoltEffects_1.RevoltEffects.instance.__recycleEffect(this);\n        console.log('recycle', this);\n    };\n    EffectSequence.prototype.dispose = function () {\n        this._elements.clear();\n    };\n    Object.defineProperty(EffectSequence.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            this._rotation = value;\n            var list = this._elements;\n            var node = list.first;\n            var next;\n            while (node) {\n                next = node.next;\n                node.data.rotation = value;\n                node = next;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EffectSequence.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            this._y = value;\n            var list = this._elements;\n            var node = list.first;\n            var next;\n            while (node) {\n                next = node.next;\n                node.data.y = value;\n                node = next;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EffectSequence.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            this._x = value;\n            var list = this._elements;\n            var node = list.first;\n            var next;\n            while (node) {\n                next = node.next;\n                node.data.x = value;\n                node = next;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // *********************************************************************************************\n    // * Internal\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    EffectSequence.prototype.__applySettings = function (value) {\n        this.settings = value;\n        this._list = value.effects.slice();\n        /* let effects = value.effects;\n         let l = effects.length;\n         let effect:BaseEffect;\n\n         let RE = RevoltEffects.instance;\n\n         for (let i = 0; i < l; i++) {\n         let effectDef = effects[i];\n         switch (effectDef.componentType) {\n         case ComponentType.Sprite:\n         effect = <BaseEffect>RE.__getSprite(effectDef.componentId);\n         break;\n         case ComponentType.MovieClip:\n         eff\n         break;\n         case ComponentType.Emitter:\n         break;\n\n         }\n         }*/\n    };\n    EffectSequence.prototype.setNextEffect = function () {\n        if (this.exhausted)\n            return;\n        var def = this._nextEffectSettings = this._list[this._index++];\n        this._effectStartTime = this._startTime + def.delay * 1000;\n        console.log(def, this._effectStartTime);\n    };\n    return EffectSequence;\n}(BaseEffect_1.BaseEffect));\nexports.EffectSequence = EffectSequence;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RevoltEffects_1 = require(\"./RevoltEffects\");\nvar MovieClip = /** @class */ (function (_super) {\n    __extends(MovieClip, _super);\n    function MovieClip(componentId, textures, anchorX, anchorY) {\n        var _this = this;\n        var t = [];\n        var l = textures.length;\n        for (var i = 0; i < l; i++) {\n            t.push(PIXI.Texture.fromFrame(textures[i]));\n        }\n        _this = _super.call(this, t) || this;\n        _this.componentId = componentId;\n        _this.anchor.set(0.5, 0.5);\n        _this.loop = false;\n        _this.__sequenceEndTime = 0;\n        return _this;\n        // this.play();\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    MovieClip.prototype.recycle = function () {\n        // console.log('recycle MovieClip');\n        if (this.parent)\n            this.parent.removeChild(this);\n        this.gotoAndStop(0);\n        RevoltEffects_1.RevoltEffects.instance.__recycleObject(this.componentId, this);\n    };\n    MovieClip.prototype.dispose = function () {\n        this.recycle();\n        this.destroy();\n    };\n    return MovieClip;\n}(PIXI.extras.AnimatedSprite));\nexports.MovieClip = MovieClip;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RevoltEffects_1 = require(\"./RevoltEffects\");\nvar LinkedList_1 = require(\"./util/LinkedList\");\nvar Color_1 = require(\"./util/Color\");\nvar Easing_1 = require(\"./util/Easing\");\nvar Rnd_1 = require(\"./util/Rnd\");\nvar Particle = /** @class */ (function (_super) {\n    __extends(Particle, _super);\n    function Particle() {\n        var _this = _super.call(this) || this;\n        _this.dx = 0;\n        _this.dy = 0;\n        _this._color = new Color_1.Color();\n        return _this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    // public init(component: any,\n    //             duration: number,\n    //             alphaStart: number = 1,\n    //             alphaEnd: number = 1,\n    //             scaleStart: number = 1,\n    //             scaleEnd: number = 1,\n    //             rotationStart: number = 0,\n    //             rotationEnd: number = 0,\n    //             tintStart: number = 0xffffff,\n    //             tintEnd: number = 0xffffff,\n    //             dx: number = 0,\n    //             dy: number = 0,\n    //             spawnOnComplete: ParticleEmitter = null) {\n    Particle.prototype.init = function (emitter, settings) {\n        var component = this.component;\n        this.emitter = emitter;\n        this.settings = settings;\n        this.duration = Rnd_1.Rnd.float(settings.durationMin, settings.durationMax);\n        this._dt = 1 / this.duration;\n        this.time = 0;\n        this.emitter.container.addChildAt(this.component, 0);\n        if (settings.randomStartRotation)\n            component.rotation = Rnd_1.Rnd.float(0, 6.28319);\n        component.blendMode = settings.blendMode || 0;\n        this.startX = component.x;\n        this.startY = component.y;\n        this.useGravity = emitter.settings.gravity != null;\n        if (this.useGravity) {\n            this.gravity = emitter.settings.gravity;\n            var speed = Rnd_1.Rnd.float(settings.moveSpeedMin || 0, settings.moveSpeedMax || 0);\n            this.moveSpeedX = speed * this.dx;\n            this.moveSpeedY = speed * this.dy;\n            this.floorY = emitter.settings.floorY || null;\n            this.bounceFac = Rnd_1.Rnd.float(settings.bounceFacMin || 0, settings.bounceFacMax || 0);\n        }\n        else {\n            var d = this.distance = Rnd_1.Rnd.integer(settings.distanceMin, settings.distanceMax);\n            this.deltaX = (component.x + d * this.dx) - this.startX;\n            this.deltaY = (component.y + d * this.dy) - this.startY;\n            this.distanceEase = Easing_1.Easing[settings.distanceEase] || null;\n        }\n        this.useAlpha = settings.alphaStartMin != settings.alphaEndMin || settings.alphaStartMax != settings.alphaEndMax;\n        if (this.useAlpha) {\n            this.alphaStart = component.alpha = Rnd_1.Rnd.float(settings.alphaStartMin, settings.alphaStartMax);\n            this.alphaDelta = Rnd_1.Rnd.float(settings.alphaEndMin, settings.alphaEndMax) - this.alphaStart;\n            this.alphaEase = Easing_1.Easing[settings.alphaEase] || null;\n        }\n        this.useScale = settings.scaleStartMin != settings.scaleEndMin || settings.scaleStartMax != settings.scaleEndMax;\n        if (this.useScale) {\n            this.scaleStart = this.component.scale.x = this.component.scale.y = Rnd_1.Rnd.float(settings.scaleStartMin, settings.scaleStartMax);\n            this.scaleDelta = Rnd_1.Rnd.float(settings.scaleEndMin, settings.scaleEndMax) - this.scaleStart;\n            this.scaleEase = Easing_1.Easing[settings.scaleEase] || null;\n        }\n        this.useRotation = settings.rotationSpeedMin != settings.rotationSpeedMax;\n        if (this.useRotation) {\n            this.rotationSpeed = Rnd_1.Rnd.float(settings.rotationSpeedMin, settings.rotationSpeedMax);\n            if (settings.randomRotationDirection)\n                this.rotationSpeed *= Rnd_1.Rnd.sign();\n        }\n        this.useTint = settings.tintStart != this.tintEnd;\n        if (this.useTint) {\n            this.tintEase = Easing_1.Easing[settings.tintEase] || null;\n            this._color.setRgb(settings.tintStart, settings.tintEnd);\n        }\n    };\n    Particle.prototype.update = function (dt) {\n        var t = this.time += dt;\n        var duration = this.duration;\n        if (t >= duration) {\n            this.emitter.__removeParticle(this);\n            return;\n        }\n        var component = this.component;\n        var mod = t * this._dt;\n        //Distance\n        if (this.useGravity) {\n            component.x += this.moveSpeedX;\n            component.y += this.moveSpeedY += this.gravity;\n            if (this.floorY != null) {\n                if (component.y > this.floorY) {\n                    component.y = this.floorY;\n                    this.moveSpeedY *= -this.bounceFac;\n                }\n            }\n        }\n        else {\n            if (this.distanceEase) {\n                component.x = this.distanceEase(t, this.startX, this.deltaX, duration);\n                component.y = this.distanceEase(t, this.startY, this.deltaY, duration);\n            }\n            else {\n                component.x = this.deltaX * mod + this.startX;\n                component.y = this.deltaY * mod + this.startY;\n            }\n        }\n        //Alpha\n        if (this.useAlpha) {\n            if (this.alphaEase) {\n                component.alpha = this.alphaEase(t, this.alphaStart, this.alphaDelta, duration);\n            }\n            else {\n                component.alpha = (this.alphaDelta) * mod + this.alphaStart;\n            }\n        }\n        //Rotation\n        if (this.useRotation) {\n            component.rotation += this.rotationSpeed;\n        }\n        //Scale\n        if (this.useScale) {\n            if (this.scaleEase) {\n                component.scale.x = component.scale.y = this.scaleEase(t, this.scaleStart, this.scaleDelta, duration);\n            }\n            else {\n                component.scale.x = component.scale.y = this.scaleDelta * mod + this.scaleStart;\n            }\n        }\n        //Tint\n        if (this.useTint) {\n            component.tint = this._color.tween(this.tintEase, t, duration);\n        }\n    };\n    Particle.prototype.recycle = function () {\n        // console.log('recycle Particle');\n        this.component.recycle();\n        RevoltEffects_1.RevoltEffects.instance.__recycleParticle(this);\n        this.dx = this.dy = 0;\n        this.component.scale.set(1, 1);\n        this.component = null;\n        this.emitter = null;\n        this.settings = null;\n    };\n    Particle.prototype.dispose = function () {\n        this.recycle();\n    };\n    return Particle;\n}(LinkedList_1.Node));\nexports.Particle = Particle;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RevoltEffects_1 = require(\"./RevoltEffects\");\nvar LinkedList_1 = require(\"./util/LinkedList\");\nvar Rnd_1 = require(\"./util/Rnd\");\nvar BaseEffect_1 = require(\"./BaseEffect\");\nvar ParticleEmitter = /** @class */ (function (_super) {\n    __extends(ParticleEmitter, _super);\n    function ParticleEmitter(componentId) {\n        var _this = _super.call(this, componentId) || this;\n        _this._particles = new LinkedList_1.LinkedList();\n        _this._particleCount = 0;\n        return _this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    ParticleEmitter.prototype.init = function (container, autoStart) {\n        if (autoStart === void 0) { autoStart = true; }\n        this.container = container;\n        if (autoStart)\n            this.start();\n        return this;\n    };\n    ParticleEmitter.prototype.start = function () {\n        if (this._active)\n            return;\n        var t = Date.now();\n        var s = this.settings;\n        this._time = Number.MAX_VALUE;\n        if (s.duration > 0) {\n            this.endTime = t + s.duration * 1000;\n        }\n        else {\n            this.endTime = s.duration;\n        }\n        this._maxParticles = s.maxParticles;\n        this._active = true;\n        this.exhausted = this.completed = false;\n        RevoltEffects_1.RevoltEffects.instance.__addActiveEffect(this);\n        if (this.onStart)\n            this.onStart(this);\n        return this;\n    };\n    ParticleEmitter.prototype.stop = function (waitForParticles) {\n        if (waitForParticles === void 0) { waitForParticles = true; }\n        if (waitForParticles) {\n            this.exhausted = true;\n        }\n        else {\n            this.recycle();\n        }\n    };\n    ParticleEmitter.prototype.update = function (dt) {\n        // if (this.componentId == 'blast') console.log('update', this);\n        if (!this._active)\n            return;\n        var t = Date.now();\n        if (!this.exhausted) {\n            if (this.endTime == 0) {\n                this.spawn();\n                this.exhausted = true;\n            }\n            else if (this.endTime == -1 || t < this.endTime) {\n                this._time += dt;\n                if (this._time >= this.settings.spawnFrequency) {\n                    this._time = 0;\n                    this.spawn();\n                }\n            }\n            else {\n                this.exhausted = true;\n                if (this.onExhaust)\n                    this.onExhaust(this);\n            }\n        }\n        var list = this._particles;\n        var node = list.first;\n        var next;\n        while (node) {\n            next = node.next;\n            node.update(dt);\n            node = next;\n        }\n        return this;\n    };\n    ParticleEmitter.prototype.spawn = function () {\n        var s = this.settings;\n        var n = s.spawnCount;\n        this._core.prepare();\n        var RE = RevoltEffects_1.RevoltEffects.instance;\n        while (--n > -1) {\n            if (this._particleCount == this._maxParticles)\n                return;\n            var ps = s.particleSettings, p = RE.__getParticle(), component = void 0;\n            switch (s.particleSettings.componentType) {\n                case RevoltEffects_1.ComponentType.Sprite:\n                    p.componentId = s.particleSettings.componentId;\n                    component = RE.getSprite(p.componentId);\n                    break;\n                case RevoltEffects_1.ComponentType.MovieClip:\n                    p.componentId = s.particleSettings.componentId;\n                    component = RE.getMovieClip(p.componentId);\n                    if (ps.componentParams) {\n                        component.loop = ps.componentParams.loop == null || !ps.componentParams.loop ? false : true;\n                        component.animationSpeed = Rnd_1.Rnd.float(ps.componentParams.animationSpeedMin || 1, ps.componentParams.animationSpeedMax || 1);\n                    }\n                    component.gotoAndPlay(0);\n                    break;\n            }\n            p.component = component;\n            this._core.emit(p);\n            p.init(this, ps);\n            this._particles.add(p);\n            this._particleCount++;\n            RE.particleCount++;\n        }\n        this._core.step();\n        return this;\n    };\n    ParticleEmitter.prototype.recycle = function () {\n        var list = this._particles;\n        var node = list.first;\n        var next;\n        while (node) {\n            next = node.next;\n            node.recycle();\n            node = next;\n        }\n        list.clear();\n        this.settings = null;\n        this._active = false;\n        this.completed = true;\n        this._core.dispose();\n        this._core = null;\n        RevoltEffects_1.RevoltEffects.instance.__recycleEffect(this);\n    };\n    ParticleEmitter.prototype.dispose = function () {\n        var list = this._particles;\n        var node = list.first;\n        var next;\n        while (node) {\n            next = node.next;\n            node.recycle();\n            node = next;\n        }\n        list.clear();\n        this.componentId = null;\n        this.settings = null;\n        this._active = false;\n        this.completed = true;\n        this._core.dispose();\n        this._core = null;\n        this.onComplete = this.onStart = this.onExhaust = null;\n    };\n    Object.defineProperty(ParticleEmitter.prototype, \"maxParticles\", {\n        get: function () {\n            return this._maxParticles;\n        },\n        set: function (value) {\n            this._maxParticles = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ParticleEmitter.prototype, \"core\", {\n        get: function () {\n            return this._core;\n        },\n        set: function (value) {\n            this._core = value;\n            this.core.x = this._x;\n            this.core.y = this._x;\n            this.core.rotation = this._rotation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ParticleEmitter.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            this._y = this._core.y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ParticleEmitter.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            this._x = this._core.x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ParticleEmitter.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            this._rotation = this._core.rotation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // *********************************************************************************************\n    // * Internal\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    ParticleEmitter.prototype.__removeParticle = function (particle) {\n        if (particle.settings.spawnOnCompleteEmitterId) {\n            var emitter = RevoltEffects_1.RevoltEffects.instance.getParticleEmitter(particle.settings.spawnOnCompleteEmitterId);\n            emitter.init(this.container);\n            emitter.x = particle.component.x;\n            emitter.y = particle.component.y;\n            emitter.rotation = particle.component.rotation;\n        }\n        this._particles.remove(particle);\n        this._particleCount--;\n        RevoltEffects_1.RevoltEffects.instance.particleCount--;\n        particle.recycle();\n        if (this.exhausted && this._particleCount == 0) {\n            this._active = false;\n            this.completed = true;\n            if (this.onComplete)\n                this.onComplete(this);\n            this.recycle();\n        }\n    };\n    ParticleEmitter.prototype.__applySettings = function (value) {\n        this.settings = value;\n        this.core = new ((_a = value.core.clazz).bind.apply(_a, [void 0].concat([this, value.core.params])))();\n        var _a;\n    };\n    return ParticleEmitter;\n}(BaseEffect_1.BaseEffect));\nexports.ParticleEmitter = ParticleEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList_1 = require(\"./util/LinkedList\");\nvar ParticleEmitter_1 = require(\"./ParticleEmitter\");\nvar MovieClip_1 = require(\"./MovieClip\");\nvar Sprite_1 = require(\"./Sprite\");\nvar Particle_1 = require(\"./Particle\");\nvar EffectSequence_1 = require(\"./EffectSequence\");\nvar ComponentType;\n(function (ComponentType) {\n    ComponentType[ComponentType[\"Sprite\"] = 0] = \"Sprite\";\n    ComponentType[ComponentType[\"MovieClip\"] = 1] = \"MovieClip\";\n    ComponentType[ComponentType[\"Emitter\"] = 2] = \"Emitter\";\n})(ComponentType = exports.ComponentType || (exports.ComponentType = {}));\nvar RevoltEffects = /** @class */ (function () {\n    function RevoltEffects() {\n        this.particleCount = 0;\n        this._active = false;\n        this._cache = {};\n        this._settingsCache = {};\n        this._effects = new LinkedList_1.LinkedList();\n        this.start();\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    RevoltEffects.prototype.start = function () {\n        this._active = true;\n        this._timeElapsed = Date.now();\n    };\n    RevoltEffects.prototype.stop = function () {\n        this._active = false;\n    };\n    RevoltEffects.prototype.update = function () {\n        if (!this.active)\n            return;\n        var t = Date.now();\n        var dt = (t - this._timeElapsed) * 0.001;\n        var list = this._effects;\n        var node = list.first;\n        var next;\n        while (node) {\n            next = node.next;\n            node.update(dt);\n            node = next;\n        }\n        this._timeElapsed = t;\n    };\n    RevoltEffects.prototype.clearCache = function () {\n        this._cache = {};\n        this._settingsCache = {};\n    };\n    RevoltEffects.prototype.dispose = function () {\n        var list = this._effects;\n        var node = list.first;\n        while (node) {\n            node.dispose();\n            node = node.next;\n        }\n        list.clear();\n        this.clearCache();\n    };\n    RevoltEffects.prototype.initParticleEmitter = function (componentId, settings) {\n        if (this._settingsCache[componentId])\n            throw new Error('ComponentId \"' + componentId + '\" already exists.');\n        this.__validateEmitterSettings(settings);\n        this._settingsCache[componentId] = settings;\n        return this;\n    };\n    RevoltEffects.prototype.initEffectSequence = function (componentId, settings) {\n        if (this._settingsCache[componentId])\n            throw new Error('ComponentId \"' + componentId + '\" already exists.');\n        this.__validateEffectSequenceSettings(settings);\n        this._settingsCache[componentId] = settings;\n        return this;\n    };\n    RevoltEffects.prototype.initSprite = function (componentId, settings) {\n        if (this._settingsCache[componentId])\n            throw new Error('ComponentId \"' + componentId + '\" already exists.');\n        this.__validateSpriteSettings(settings);\n        this._settingsCache[componentId] = settings;\n        return this;\n    };\n    RevoltEffects.prototype.initMovieClip = function (componentId, settings) {\n        if (this._settingsCache[componentId])\n            throw new Error('ComponentId \"' + componentId + '\" already exists.');\n        this.__validateMovieClipSettings(settings);\n        this._settingsCache[componentId] = settings;\n        return this;\n    };\n    RevoltEffects.prototype.getEffectSequence = function (componentId) {\n        var cache = this._cache, pool = cache[componentId], effectSequence;\n        if (cache[componentId] == null) {\n            pool = cache[componentId] = [];\n        }\n        var settings = this._settingsCache[componentId];\n        if (settings == null)\n            throw new Error('Settings not defined');\n        if (pool.length == 0) {\n            effectSequence = new EffectSequence_1.EffectSequence(componentId);\n        }\n        else {\n            effectSequence = pool.pop();\n        }\n        effectSequence.__applySettings(settings);\n        return effectSequence;\n    };\n    RevoltEffects.prototype.getParticleEmitter = function (componentId) {\n        var cache = this._cache, pool = cache[componentId], emitter;\n        if (cache[componentId] == null) {\n            pool = cache[componentId] = [];\n        }\n        var settings = this._settingsCache[componentId];\n        if (settings == null)\n            throw new Error('Settings not defined');\n        if (pool.length == 0) {\n            emitter = new ParticleEmitter_1.ParticleEmitter(componentId);\n        }\n        else {\n            emitter = pool.pop();\n        }\n        emitter.__applySettings(settings);\n        return emitter;\n    };\n    RevoltEffects.prototype.getSprite = function (componentId) {\n        var cache = this._cache, pool = cache[componentId];\n        if (cache[componentId] == null) {\n            pool = cache[componentId] = [];\n        }\n        if (pool.length == 0) {\n            var settings = this._settingsCache[componentId];\n            if (settings == null)\n                throw new Error('Settings not defined');\n            return new Sprite_1.Sprite(componentId, settings.texture, settings.anchorX, settings.anchorY);\n        }\n        // console.log('sprite from pool');\n        return pool.pop();\n    };\n    RevoltEffects.prototype.getMovieClip = function (componentId) {\n        var cache = this._cache, pool = cache[componentId];\n        if (cache[componentId] == null) {\n            pool = cache[componentId] = [];\n        }\n        if (pool.length == 0) {\n            var settings = this._settingsCache[componentId];\n            if (settings == null)\n                throw new Error('Settings not defined');\n            return new MovieClip_1.MovieClip(componentId, settings.textures, settings.anchorX, settings.anchorY);\n        }\n        return pool.pop();\n    };\n    RevoltEffects.prototype.stopEmitter = function (emitter, dispose) {\n        if (dispose === void 0) { dispose = false; }\n        if (emitter.list === this._effects) {\n            this._effects.remove(emitter);\n        }\n        if (dispose) {\n            emitter.dispose();\n        }\n        else {\n            this.__recycleEmitter(emitter);\n        }\n    };\n    RevoltEffects.prototype.parseSpriteSheet = function (spriteSheet) {\n        var frames = spriteSheet.frames;\n        var mcs = {};\n        var result = { sprites: [], movieClips: [] };\n        for (var i in frames) {\n            this.initSprite(i, { texture: i, anchorX: 0.5, anchorY: 0.5 });\n            result.sprites.push(i);\n            if (i.indexOf('mc') != -1) {\n                var parts = i.split('_');\n                var group = parts[1];\n                if (mcs[group] == null)\n                    mcs[group] = [];\n                mcs[group].push(i);\n            }\n        }\n        for (var i in mcs) {\n            var textures = mcs[i];\n            result.movieClips.push(i);\n            this.initMovieClip(i, { textures: textures, anchorX: 0.5, anchorY: 0.5 });\n        }\n        return result;\n    };\n    Object.defineProperty(RevoltEffects.prototype, \"active\", {\n        get: function () {\n            return this._active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // *********************************************************************************************\n    // * Internal\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    RevoltEffects.prototype.__addActiveEffect = function (effect) {\n        this._effects.add(effect);\n    };\n    RevoltEffects.prototype.__getParticle = function () {\n        var cache = this._cache, id = '__particles__', pool = cache[id];\n        if (cache[id] == null) {\n            pool = cache[id] = [];\n        }\n        if (pool.length == 0) {\n            return new Particle_1.Particle();\n        }\n        return pool.pop();\n    };\n    RevoltEffects.prototype.__recycleParticle = function (particle) {\n        // switch (particle.settings.componentType) {\n        //     default:\n        //         this._cache[particle.componentId].push(particle.component);\n        //         particle.component.recycle();\n        //         break;\n        // }\n        // particle.recycle();\n        this._cache['__particles__'].push(particle);\n        // console.log('cache particles:', this._cache['__particles__'].length, 'sprites:', this._cache['tile'].length);\n    };\n    RevoltEffects.prototype.__recycleObject = function (componentId, object) {\n        this._cache[componentId].push(object);\n        // if (object.recycle) object.recycle();\n    };\n    RevoltEffects.prototype.__recycleEffect = function (effect) {\n        if (effect.list === this._effects) {\n            this._effects.remove(effect);\n        }\n        this._cache[effect.componentId].push(effect);\n        // effect.recycle();\n    };\n    RevoltEffects.prototype.__recycleEmitter = function (emitter) {\n        if (emitter.list === this._effects) {\n            this._effects.remove(emitter);\n        }\n        this._cache[emitter.componentId].push(emitter);\n        // emitter.recycle();\n    };\n    RevoltEffects.prototype.__recycleEffectSequence = function (effectSequence) {\n        if (effectSequence.list === this._effects) {\n            this._effects.remove(effectSequence);\n        }\n        this._cache[effectSequence.componentId].push(effectSequence);\n        // effectSequence.recycle();\n    };\n    // *********************************************************************************************\n    // * Private\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    RevoltEffects.prototype.__validateEmitterSettings = function (settings) {\n        settings.spawnFrequency = settings.spawnFrequency || 0.05;\n        settings.maxParticles = settings.maxParticles || Number.MAX_VALUE;\n        settings.duration = settings.duration || 0;\n        settings.spawnCount = settings.spawnCount || 1;\n    };\n    RevoltEffects.prototype.__validateSpriteSettings = function (settings) {\n        if (settings.texture == null)\n            throw new Error(\"Texture name is missing.\");\n        settings.anchorX = settings.anchorX || 0.5;\n        settings.anchorY = settings.anchorY || 0.5;\n    };\n    RevoltEffects.prototype.__validateMovieClipSettings = function (settings) {\n        if (settings.textures == null)\n            throw new Error(\"Texture names are missing.\");\n        settings.anchorX = settings.anchorX || 0.5;\n        settings.anchorY = settings.anchorY || 0.5;\n    };\n    RevoltEffects.prototype.__validateEffectSequenceSettings = function (settings) {\n        if (settings.effects == null)\n            throw new Error(\"Effect array is missing.\");\n        for (var _i = 0, _a = settings.effects; _i < _a.length; _i++) {\n            var e = _a[_i];\n            e.blendMode = e.blendMode || 0;\n            e.duration = e.duration || 0.1;\n            e.delay = e.delay || 0;\n            e.tint = e.tint || 0xffffff;\n            e.scaleMax = e.scaleMax || 1;\n            e.scaleMin = e.scaleMin || 1;\n            e.alphaMax = e.alphaMax || 1;\n            e.alphaMin = e.alphaMin || 1;\n        }\n    };\n    RevoltEffects.instance = new RevoltEffects();\n    return RevoltEffects;\n}());\nexports.RevoltEffects = RevoltEffects;\n/* export enum EasingType {\n linear,\n InQuad,\n OutQuad,\n InOutQuad,\n InCubic,\n OutCubic,\n InOutCubic,\n InQuart,\n OutQuart,\n InOutQuart,\n InQuint,\n OutQuint,\n InOutQuint,\n InSine,\n OutSine,\n InOutSine,\n InExpo,\n OutExpo,\n InOutExpo,\n InCirc,\n OutCirc,\n InOutCirc,\n InElastic,\n OutElastic,\n InOutElastic,\n InBack,\n OutBack,\n InOutBack,\n InBounce,\n OutBounce,\n InOutBounce\n }*/\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RevoltEffects_1 = require(\"./RevoltEffects\");\nvar PIXI = __importStar(require(\"pixi.js\"));\nvar Sprite = /** @class */ (function (_super) {\n    __extends(Sprite, _super);\n    function Sprite(componentId, texture, anchorX, anchorY) {\n        var _this = _super.call(this, PIXI.Texture.fromFrame(texture)) || this;\n        _this.componentId = componentId;\n        _this.anchor.set(anchorX || 0.5, anchorY || 0.5);\n        _this.__sequenceEndTime = null;\n        return _this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    Sprite.prototype.recycle = function () {\n        // console.log('recycle Sprite');\n        if (this.parent)\n            this.parent.removeChild(this);\n        RevoltEffects_1.RevoltEffects.instance.__recycleObject(this.componentId, this);\n        // this.x = this.y = 0;\n        // console.log(this, 'recycle');\n    };\n    Sprite.prototype.dispose = function () {\n        this.recycle();\n        this.destroy(false);\n    };\n    return Sprite;\n}(PIXI.Sprite));\nexports.Sprite = Sprite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEmitterCore = /** @class */ (function () {\n    function BaseEmitterCore(emitter) {\n        this.emitter = emitter;\n        this._dx = 0;\n        this._dy = 0;\n        this._rotation = 0;\n        this._settings = emitter.settings.core.params;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    BaseEmitterCore.prototype.emit = function (particle) {\n    };\n    Object.defineProperty(BaseEmitterCore.prototype, \"rotation\", {\n        get: function () {\n            return this._rotation;\n        },\n        set: function (value) {\n            this._rotation = value;\n            this._dx = Math.cos(value);\n            this._dy = Math.sin(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BaseEmitterCore.prototype.prepare = function () {\n    };\n    BaseEmitterCore.prototype.step = function () {\n    };\n    BaseEmitterCore.prototype.dispose = function () {\n        this.emitter = null;\n    };\n    return BaseEmitterCore;\n}());\nexports.BaseEmitterCore = BaseEmitterCore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEmitterCore_1 = require(\"./BaseEmitterCore\");\nvar Rnd_1 = require(\"../util/Rnd\");\nvar BoxEmitterCore = /** @class */ (function (_super) {\n    __extends(BoxEmitterCore, _super);\n    function BoxEmitterCore(emitter) {\n        return _super.call(this, emitter) || this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    BoxEmitterCore.prototype.emit = function (particle) {\n        var settings = this._settings;\n        var emitter = this.emitter;\n        var w2 = settings.width * 0.5;\n        var h2 = settings.height * 0.5;\n        var angle = emitter.rotation;\n        var x = Rnd_1.Rnd.float(-w2, w2);\n        var y = Rnd_1.Rnd.float(-h2, h2);\n        if (angle != 0) {\n            particle.component.x = this.x + x * Math.cos(angle) - y * Math.sin(angle);\n            particle.component.y = this.y + x * Math.sin(angle) + y * Math.cos(angle);\n        }\n        else {\n            particle.component.x = this.x + x;\n            particle.component.y = this.y + y;\n        }\n        if (settings.radial) {\n            angle += Math.atan2(y, x);\n            particle.dx = Math.cos(angle);\n            particle.dy = Math.sin(angle);\n        }\n        else {\n            particle.dx = this._dx;\n            particle.dy = this._dy;\n        }\n        particle.component.rotation = angle;\n    };\n    return BoxEmitterCore;\n}(BaseEmitterCore_1.BaseEmitterCore));\nexports.BoxEmitterCore = BoxEmitterCore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEmitterCore_1 = require(\"./BaseEmitterCore\");\nvar Rnd_1 = require(\"../util/Rnd\");\nvar CircleEmitterCore = /** @class */ (function (_super) {\n    __extends(CircleEmitterCore, _super);\n    function CircleEmitterCore(emitter) {\n        return _super.call(this, emitter) || this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    CircleEmitterCore.prototype.emit = function (particle) {\n        var settings = this._settings;\n        var emitter = this.emitter;\n        var angle;\n        if (!settings.angle) {\n            angle = Rnd_1.Rnd.float(0, 6.28319) + emitter.rotation;\n        }\n        else {\n            angle = Rnd_1.Rnd.float(-settings.angle * 0.5, settings.angle * 0.5) + emitter.rotation;\n        }\n        if (settings.radius > 0) {\n            var r = Rnd_1.Rnd.float(0, settings.radius);\n            particle.component.x = this.x + Math.cos(angle) * r;\n            particle.component.y = this.y + Math.sin(angle) * r;\n        }\n        else {\n            particle.component.x = this.x;\n            particle.component.y = this.y;\n        }\n        if (settings.radial) {\n            particle.dx = Math.cos(angle);\n            particle.dy = Math.sin(angle);\n            particle.component.rotation = angle;\n        }\n        else {\n            particle.dx = this._dx;\n            particle.dy = this._dy;\n            particle.component.rotation = emitter.rotation;\n        }\n    };\n    return CircleEmitterCore;\n}(BaseEmitterCore_1.BaseEmitterCore));\nexports.CircleEmitterCore = CircleEmitterCore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEmitterCore_1 = require(\"./BaseEmitterCore\");\nvar Rnd_1 = require(\"../util/Rnd\");\nvar RingEmitterCore = /** @class */ (function (_super) {\n    __extends(RingEmitterCore, _super);\n    function RingEmitterCore(emitter) {\n        return _super.call(this, emitter) || this;\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    RingEmitterCore.prototype.emit = function (particle) {\n        var settings = this._settings;\n        var emitter = this.emitter;\n        var angle;\n        if (!settings.angle) {\n            if (settings.uniform) {\n                angle = this._angle + emitter.rotation;\n                this._angle += this._uniformStep;\n            }\n            else {\n                angle = Rnd_1.Rnd.float(0, 6.28319) + emitter.rotation;\n            }\n        }\n        else {\n            angle = Rnd_1.Rnd.float(-settings.angle * 0.5, settings.angle * 0.5) + emitter.rotation;\n        }\n        var r = settings.radius;\n        particle.component.x = this.x + Math.cos(angle) * r;\n        particle.component.y = this.y + Math.sin(angle) * r;\n        if (settings.radial) {\n            particle.dx = Math.cos(angle);\n            particle.dy = Math.sin(angle);\n            particle.component.rotation = angle;\n        }\n        else {\n            particle.dx = this._dx;\n            particle.dy = this._dy;\n            particle.component.rotation = emitter.rotation;\n        }\n    };\n    RingEmitterCore.prototype.prepare = function () {\n        this._uniformStep = 6.28319 / this.emitter.settings.spawnCount;\n        this._angle = 0;\n    };\n    RingEmitterCore.prototype.step = function () {\n    };\n    return RingEmitterCore;\n}(BaseEmitterCore_1.BaseEmitterCore));\nexports.RingEmitterCore = RingEmitterCore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Color = /** @class */ (function () {\n    function Color() {\n    }\n    // *********************************************************************************************\n    // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n    // *********************************************************************************************\n    Color.prototype.setRgb = function (startRgb, targetRgb) {\n        this.startRgb = this.rgb = startRgb;\n        this.r = this.sR = (startRgb >> 16) & 0xff;\n        this.g = this.sG = (startRgb >> 8) & 0xff;\n        this.b = this.sB = startRgb & 0xff;\n        this.targetRgb = targetRgb;\n        this.dR = ((targetRgb >> 16) & 0xff) - this.r;\n        this.dG = ((targetRgb >> 8) & 0xff) - this.g;\n        this.dB = (targetRgb & 0xff) - this.b;\n    };\n    Color.prototype.tween = function (ease, time, duration) {\n        if (ease) {\n            this.r = ease(time, this.sR, this.dR, duration);\n            this.g = ease(time, this.sG, this.dG, duration);\n            this.b = ease(time, this.sB, this.dB, duration);\n        }\n        else {\n            time /= duration;\n            this.r = this.dR * time + this.sR;\n            this.g = this.dG * time + this.sG;\n            this.b = this.dB * time + this.sB;\n        }\n        this.rgb = (this.r << 16) | (this.g << 8) | this.b;\n        return this.rgb;\n    };\n    return Color;\n}());\nexports.Color = Color;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Easing = /** @class */ (function () {\n    function Easing() {\n    }\n    Easing.linear = function (t, b, c, d) {\n        return c * t / d + b;\n    };\n    Easing.easeInQuad = function (t, b, c, d) {\n        return c * (t /= d) * t + b;\n    };\n    Easing.easeOutQuad = function (t, b, c, d) {\n        console.log(arguments);\n        return -c * (t /= d) * (t - 2) + b;\n    };\n    Easing.easeInOutQuad = function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return c / 2 * t * t + b;\n        }\n        else {\n            return -c / 2 * ((--t) * (t - 2) - 1) + b;\n        }\n    };\n    Easing.easeInCubic = function (t, b, c, d) {\n        return c * (t /= d) * t * t + b;\n    };\n    Easing.easeOutCubic = function (t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t + 1) + b;\n    };\n    Easing.easeInOutCubic = function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return c / 2 * t * t * t + b;\n        }\n        else {\n            return c / 2 * ((t -= 2) * t * t + 2) + b;\n        }\n    };\n    Easing.easeInQuart = function (t, b, c, d) {\n        return c * (t /= d) * t * t * t + b;\n    };\n    Easing.easeOutQuart = function (t, b, c, d) {\n        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    };\n    Easing.easeInOutQuart = function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return c / 2 * t * t * t * t + b;\n        }\n        else {\n            return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n        }\n    };\n    Easing.easeInQuint = function (t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    };\n    Easing.easeOutQuint = function (t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    };\n    Easing.easeInOutQuint = function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return c / 2 * t * t * t * t * t + b;\n        }\n        else {\n            return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n        }\n    };\n    Easing.easeInSine = function (t, b, c, d) {\n        return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    };\n    Easing.easeOutSine = function (t, b, c, d) {\n        return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    };\n    Easing.easeInOutSine = function (t, b, c, d) {\n        return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    };\n    Easing.easeInExpo = function (t, b, c, d) {\n        if (t === 0) {\n            return b;\n        }\n        else {\n            return c * Math.pow(2, 10 * (t / d - 1)) + b;\n        }\n    };\n    Easing.easeOutExpo = function (t, b, c, d) {\n        if (t === d) {\n            return b + c;\n        }\n        else {\n            return c * (-Math.pow(2, -10 * t / d) + 1) + b;\n        }\n    };\n    Easing.easeInOutExpo = function (t, b, c, d) {\n        if (t === 0) {\n            b;\n        }\n        if (t === d) {\n            b + c;\n        }\n        if ((t /= d / 2) < 1) {\n            return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n        }\n        else {\n            return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n        }\n    };\n    Easing.easeInCirc = function (t, b, c, d) {\n        return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    };\n    Easing.easeOutCirc = function (t, b, c, d) {\n        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    };\n    Easing.easeInOutCirc = function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n        }\n        else {\n            return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n        }\n    };\n    Easing.easeInElastic = function (t, b, c, d) {\n        var a, p, s;\n        s = 1.70158;\n        p = 0;\n        a = c;\n        if (t === 0) {\n            b;\n        }\n        else if ((t /= d) === 1) {\n            b + c;\n        }\n        if (!p) {\n            p = d * .3;\n        }\n        if (a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = p / (2 * Math.PI) * Math.asin(c / a);\n        }\n        return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    };\n    Easing.easeOutElastic = function (t, b, c, d) {\n        var a, p, s;\n        s = 1.70158;\n        p = 0;\n        a = c;\n        if (t === 0) {\n            b;\n        }\n        else if ((t /= d) === 1) {\n            b + c;\n        }\n        if (!p) {\n            p = d * .3;\n        }\n        if (a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = p / (2 * Math.PI) * Math.asin(c / a);\n        }\n        return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n    };\n    Easing.easeInOutElastic = function (t, b, c, d) {\n        var a, p, s;\n        s = 1.70158;\n        p = 0;\n        a = c;\n        if (t === 0) {\n            b;\n        }\n        else if ((t /= d / 2) === 2) {\n            b + c;\n        }\n        if (!p) {\n            p = d * (.3 * 1.5);\n        }\n        if (a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = p / (2 * Math.PI) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n        }\n        else {\n            return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n        }\n    };\n    Easing.easeInBack = function (t, b, c, d, s) {\n        if (s === void 0) {\n            s = 1.70158;\n        }\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    };\n    Easing.easeOutBack = function (t, b, c, d, s) {\n        if (s === void 0) {\n            s = 1.70158;\n        }\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    };\n    Easing.easeInOutBack = function (t, b, c, d, s) {\n        if (s === void 0) {\n            s = 1.70158;\n        }\n        if ((t /= d / 2) < 1) {\n            return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        else {\n            return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n        }\n    };\n    Easing.easeInBounce = function (t, b, c, d) {\n        var v;\n        v = Easing.easeOutBounce(d - t, 0, c, d);\n        return c - v + b;\n    };\n    Easing.easeOutBounce = function (t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n        }\n    };\n    Easing.easeInOutBounce = function (t, b, c, d) {\n        var v;\n        if (t < d / 2) {\n            v = Easing.easeInBounce(t * 2, 0, c, d);\n            return v * .5 + b;\n        }\n        else {\n            v = Easing.easeOutBounce(t * 2 - d, 0, c, d);\n            return v * .5 + c * .5 + b;\n        }\n    };\n    return Easing;\n}());\nexports.Easing = Easing;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this._length = 0;\n    }\n    Object.defineProperty(LinkedList.prototype, \"length\", {\n        // *********************************************************************************************\n        // * Public\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   *\n        // *********************************************************************************************\n        get: function () {\n            return this._length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LinkedList.prototype.add = function (node) {\n        if (this.first == null) {\n            this.first = this.last = node;\n        }\n        else {\n            node.prev = this.last;\n            this.last.next = node;\n            this.last = node;\n        }\n        node.list = this;\n        this._length++;\n        return this;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (this.first === this.last) {\n            this.first = this.last = null;\n        }\n        else if (this._length > 0) {\n            if (node === this.last) {\n                node.prev.next = null;\n                this.last = node.prev;\n            }\n            else if (node === this.first) {\n                node.next.prev = null;\n                this.first = node.next;\n            }\n            else {\n                node.next.prev = node.prev;\n                node.prev.next = node.next;\n            }\n        }\n        node.next = node.prev = node.list = null;\n        this._length--;\n        return this;\n    };\n    LinkedList.prototype.clear = function () {\n        if (!this.first)\n            return;\n        var node = this.first;\n        while (node) {\n            var next = node.next;\n            node.next = node.prev = node.list = null;\n            node = next;\n        }\n        this.first = this.last = null;\n    };\n    return LinkedList;\n}());\nexports.LinkedList = LinkedList;\nvar Node = /** @class */ (function () {\n    function Node(data) {\n        this.data = data;\n    }\n    Node.prototype.update = function (dt) {\n    };\n    Node.prototype.dispose = function () {\n    };\n    return Node;\n}());\nexports.Node = Node;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rnd = /** @class */ (function () {\n    function Rnd() {\n    }\n    Rnd.float = function (min, max) {\n        return Math.random() * (max - min) + min;\n    };\n    Rnd.bool = function (chance) {\n        if (chance === void 0) { chance = 0.5; }\n        return Math.random() < chance;\n    };\n    Rnd.sign = function (chance) {\n        if (chance === void 0) { chance = 0.5; }\n        return Math.random() < chance ? 1 : -1;\n    };\n    Rnd.bit = function (chance) {\n        if (chance === void 0) { chance = 0.5; }\n        return Math.random() < chance ? 1 : 0;\n    };\n    Rnd.integer = function (min, max) {\n        return Math.floor(Math.random() * (max - min) + min);\n    };\n    return Rnd;\n}());\nexports.Rnd = Rnd;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseEffect_js_1 = require(\"./BaseEffect.js\");\nexports.BaseEffect = BaseEffect_js_1.BaseEffect;\nvar EffectSequence_js_1 = require(\"./EffectSequence.js\");\nexports.EffectSequence = EffectSequence_js_1.EffectSequence;\nvar MovieClip_js_1 = require(\"./MovieClip.js\");\nexports.MovieClip = MovieClip_js_1.MovieClip;\nvar Particle_js_1 = require(\"./Particle.js\");\nexports.Particle = Particle_js_1.Particle;\nvar ParticleEmitter_js_1 = require(\"./ParticleEmitter.js\");\nexports.ParticleEmitter = ParticleEmitter_js_1.ParticleEmitter;\nvar RevoltEffects_js_1 = require(\"./RevoltEffects.js\");\nexports.RevoltEffects = RevoltEffects_js_1.RevoltEffects;\nvar Sprite_js_1 = require(\"./Sprite.js\");\nexports.Sprite = Sprite_js_1.Sprite;\nvar BaseEmitterCore_js_1 = require(\"./core/BaseEmitterCore.js\");\nexports.BaseEmitterCore = BaseEmitterCore_js_1.BaseEmitterCore;\nvar BoxEmitterCore_js_1 = require(\"./core/BoxEmitterCore.js\");\nexports.BoxEmitterCore = BoxEmitterCore_js_1.BoxEmitterCore;\nvar CircleEmitterCore_js_1 = require(\"./core/CircleEmitterCore.js\");\nexports.CircleEmitterCore = CircleEmitterCore_js_1.CircleEmitterCore;\nvar RingEmitterCore_js_1 = require(\"./core/RingEmitterCore.js\");\nexports.RingEmitterCore = RingEmitterCore_js_1.RingEmitterCore;\nvar Color_js_1 = require(\"./util/Color.js\");\nexports.Color = Color_js_1.Color;\nvar Easing_js_1 = require(\"./util/Easing.js\");\nexports.Easing = Easing_js_1.Easing;\nvar LinkedList_js_1 = require(\"./util/LinkedList.js\");\nexports.LinkedList = LinkedList_js_1.LinkedList;\nvar Rnd_js_1 = require(\"./util/Rnd.js\");\nexports.Rnd = Rnd_js_1.Rnd;\n"],"sourceRoot":"."}